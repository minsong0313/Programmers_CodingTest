SELECT YEAR(DIFFERENTIATION_DATE) AS YEAR
    , (SELECT MAX(SIZE_OF_COLONY) FROM ECOLI_DATA
        WHERE YEAR(DIFFERENTIATION_DATE) = YEAR
      ) - SIZE_OF_COLONY AS YEAR_DEV
    , ID
FROM ECOLI_DATA
ORDER BY YEAR, YEAR_DEV
-- SELECT절에서 서브쿼리를 사용해서 연도별 MAX값 찾기(내가 푼 방법)


SELECT YEAR(DIFFERENTIATION_DATE) AS YEAR
        , MAX(SIZE_OF_COLONY) OVER(PARTITION BY YEAR(DIFFERENTIATION_DATE))
            - SIZE_OF_COLONY AS YEAR_DEV
        , ID
FROM ECOLI_DATA
ORDER BY 1, 2
-- 윈도우 함수 사용
-- 그룹화하는 것처럼 사용 -> OVER(PARTITION BY 부서)